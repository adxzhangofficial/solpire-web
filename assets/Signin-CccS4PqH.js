import{r,j as e}from"./index-BtX-c8-9.js";import{u as p,a as x,o as g,s as n}from"./schemas-BRlsMrax.js";const u=g({username:n().min(3,"用户名至少需要3个字符").max(50,"用户名不能超过50个字符"),password:n().min(6,"密码至少需要6个字符").max(100,"密码不能超过100个字符"),phone:n().regex(/^1[3-9]\d{9}$/,"请输入有效的手机号码")}),b=()=>{const[o,d]=r.useState(!1),[a,c]=r.useState(!1),{register:t,handleSubmit:l,formState:{errors:s}}=p({resolver:x(u),defaultValues:{username:"",password:"",phone:""}});r.useEffect(()=>(document.body.classList.add("signin-body"),()=>document.body.classList.remove("signin-body")),[]),r.useEffect(()=>{document.title="Solpire - 登录"},[]);const m=async h=>{d(!0);try{console.log("Form data ready for API:",h),await new Promise(i=>setTimeout(i,1e3)),alert("登录成功！(API连接后将实现真正的登录)")}catch(i){console.error("Login error:",i),alert("登录失败，请重试")}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"si-page-bg"}),e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"header-section",children:e.jsx("h1",{children:"欢迎"})}),e.jsx("div",{className:"content-wrapper",children:e.jsx("div",{className:"form-wrapper",children:e.jsxs("div",{className:"registration-container",children:[e.jsx("div",{className:"main-avatar-section",children:e.jsx("div",{className:"avatar-section"})}),e.jsx("form",{id:"SigninForm",onSubmit:l(m),children:e.jsxs("div",{className:"signin-wrapper",children:[e.jsxs("div",{className:`row-box bg-pink-blue ${s.username?"has-error":""}`,children:[e.jsx("div",{className:"row-label",children:"用户名"}),e.jsx("input",{type:"text",className:"row-input padding-right",placeholder:"请输入用户名","data-testid":"input-username",...t("username")}),e.jsx("div",{className:"right-circle",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",stroke:"#555",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-user",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:12,cy:7,r:4})]})})]}),s.username&&e.jsx("span",{className:"error-message","data-testid":"error-username",children:s.username.message}),e.jsxs("div",{className:`row-box bg-pink-blue ${s.password?"has-error":""}`,children:[e.jsx("div",{className:"row-label",children:"密码"}),e.jsx("input",{type:a?"text":"password",className:"row-input padding-right",placeholder:"请输入密码","data-testid":"input-password",...t("password")}),e.jsx("div",{className:"right-circle",onClick:()=>c(!a),style:{cursor:"pointer"},"data-testid":"button-toggle-password",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",stroke:"#555",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",children:a?e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"}),e.jsx("path",{d:"M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"}),e.jsx("line",{x1:1,y1:1,x2:23,y2:23})]}):e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"}),e.jsx("circle",{cx:12,cy:12,r:3})]})})})]}),s.password&&e.jsx("span",{className:"error-message","data-testid":"error-password",children:s.password.message}),e.jsxs("div",{className:`row-box bg-green-gray ${s.phone?"has-error":""}`,children:[e.jsx("div",{className:"row-label",children:"电话"}),e.jsx("input",{type:"text",className:"row-input padding-right",placeholder:"请输入手机号码","data-testid":"input-phone",...t("phone")}),e.jsx("div",{className:"right-rect","data-testid":"button-verify-phone",children:"验证"})]}),s.phone&&e.jsx("span",{className:"error-message","data-testid":"error-phone",children:s.phone.message}),e.jsx("div",{className:"button-container",children:e.jsx("button",{type:"submit",className:"register-button",disabled:o,"data-testid":"button-signin-submit",children:o?"登录中...":"登录"})})]})}),e.jsxs("div",{className:"signin-link",children:["没有账号？",e.jsx("a",{href:"/registration","data-testid":"link-register",children:"注册"})]})]})})})]})]})};export{b as Signin};
